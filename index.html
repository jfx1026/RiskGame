<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Risk Game - Hexagonal Map Generator</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a2e;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            color: #eee;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        button {
            background: #4a4a8a;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s, transform 0.1s;
        }

        button:hover {
            background: #5a5a9a;
        }

        button:active {
            transform: scale(0.98);
        }

        button:focus {
            outline: 2px solid #8a8aca;
            outline-offset: 2px;
        }

        .size-btn.active {
            background: #6a6aba;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        #map-container {
            background: #0f0f1a;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        #map-svg {
            display: block;
        }

        /* Hex styling */
        .hex {
            stroke: #1a1a2e;
            stroke-width: 2;
            cursor: pointer;
            transition: filter 0.15s, stroke-width 0.15s;
        }

        .hex:hover {
            filter: brightness(1.2);
            stroke-width: 3;
        }

        .hex:focus {
            outline: none;
            stroke: #fff;
            stroke-width: 3;
        }

        .hex-empty {
            cursor: default;
            opacity: 0.6;
        }

        .hex-empty:hover {
            filter: none;
            stroke-width: 2;
        }

        .territory-group {
            /* For grouping hexes by territory */
        }

        .territory-group:focus-within .hex {
            stroke: #fff;
            stroke-width: 2.5;
        }

        /* Territory info tooltip */
        #tooltip {
            position: fixed;
            background: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.875rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.15s;
            z-index: 1000;
        }

        #tooltip.visible {
            opacity: 1;
        }

        /* Stats display */
        .stats {
            color: #888;
            font-size: 0.875rem;
            margin-top: 10px;
            text-align: center;
        }
    </style>
</head>
<body>
    <header>
        <h1>Risk Game Map Generator</h1>
    </header>

    <div class="controls">
        <button id="small-map-btn" class="size-btn" aria-label="Generate a small map">Small</button>
        <button id="medium-map-btn" class="size-btn" aria-label="Generate a medium map">Medium</button>
        <button id="large-map-btn" class="size-btn" aria-label="Generate a large map">Large</button>
    </div>

    <div id="map-container">
        <svg id="map-svg" role="img" aria-label="Hexagonal game map with territories"></svg>
    </div>

    <div class="stats" id="stats"></div>

    <div id="tooltip" role="tooltip"></div>

    <noscript>
        <p style="color: #f88; text-align: center; margin-top: 20px;">
            JavaScript is required to run this application.
        </p>
    </noscript>

    <p id="error-message" style="color: #f88; text-align: center; margin-top: 20px; display: none;"></p>

    <script>
        // Show error if modules fail to load (e.g., when opened via file://)
        window.addEventListener('error', function(e) {
            var msg = document.getElementById('error-message');
            if (msg) {
                msg.style.display = 'block';
                msg.textContent = 'Error: ' + e.message + '. Make sure to run via a local server (not file://).';
            }
        });
    </script>
    <script type="module" src="./src/main.js" onerror="document.getElementById('error-message').style.display='block'; document.getElementById('error-message').textContent='Failed to load modules. Run via local server: python3 -m http.server 8080'"></script>
</body>
</html>
